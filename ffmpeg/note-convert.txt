以下简单总结下ffmpeg命令参数：

-i 指定要转换视频的源文件
-s 视频转换后视频的分辨率
-vcodec 视频转换时使用的编解码器（-codecs）
-r 视频转换换的桢率(默认25桢每秒)
-b 视频转换换的bit率
-ab 音频转换后的bit率(默认64k)
-acodec 制度音频使用的编码器（-codecs）
-ac 制定转换后音频的声道

-ar 音频转换后的采样率

-ac 设定声音的Channel数 

-an 禁用音频

-vn 禁用视频 ,不处理视频

-acodec copy 复制音频，不转码

-vcodec copy 复制视频，不转码

-aspect 设定画面的比例 


1. 视频格式转换
	ffmpeg -i input.avi output.mp4
	ffmpeg -i input.mp4 output.ts

2. 提取音频
	ffmpeg -i 晓松奇谈.mp4 -acodec copy -vn output.aac

	ffmpeg -i 晓松奇谈.mp4 -acodec aac -vn output.aac




3. 提取视频
	ffmpeg -i input.mp4 -vcodec copy -an output.mp4
	
4. 视频剪切
	ffmpeg -ss 00:00:15 -t 00:00:05 -i input.mp4 -vcodec copy -acodec copy output.mp4
		-ss表示开始切割的时间，-t表示要切多少。上面就是从开始，切5秒钟出来。
	注意一个问题，ffmpeg 在切割视频的时候无法做到时间绝对准确，
	因为视频编码中关键帧（I帧）和跟随它的B帧、P帧是无法分割开的，否则就需要进行重新帧内编码，会让视频体积增大。
	所以，如果切割的位置刚好在两个关键帧中间，那么 ffmpeg 会向前/向后切割，
	所以最后切割出的 chunk 长度总是会大于等于应有的长度。

5. 码率控制

	什么是码率？很简单： bitrate = file size / duration

	比如一个文件20.8M，时长1分钟，那么，码率就是：
	biterate = 20.8M bit/60s = 20.8*1024*1024*8 bit/60s= 2831Kbps

	-b:v主要是控制平均码率。 比如一个视频源的码率太高了，有10Mbps，文件太大，想把文件弄小一点，但是又不破坏分辨率。
		ffmpeg -i input.mp4 -b:v 2000k output.mp4
	上面把码率从原码率转成2Mbps码率，这样其实也间接让文件变小了。目测接近一半。

		ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k output.mp4
			-bufsize 用于设置码率控制缓冲器的大小，设置的好处是，让整体的码率更趋近于希望的值，减少波动。

	-minrate -maxrate就简单了，在线视频有时候，希望码率波动，不要超过一个阈值，可以设置maxrate。
	ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k -maxrate 2500k output.mp4


6. 视频编码格式转换
	ffmpeg -i input.mp4 -vcodec h264 output.mp4
	
7. 只提取视频ES数据
	ffmpeg Ci input.mp4 Cvcodec copy Can Cf m4v output.h264
	
8.1 将输入的1920x1080缩小到960x540输出:
	ffmpeg -i input.mp4 -vf scale=960:540 output.mp4

8.2 为视频添加logo
	ffmpeg -i input.mp4 -i iQIYI_logo.png -filter_complex overlay output.mp4
	
	
9. 抓取视频的一些帧，存为jpeg图片
	ffmpeg -i input.mp4 -r 1 -q:v 2 -f image2 pic-%03d.jpeg
		-r 表示每一秒几帧
		-q:v表示存储jpeg的图像质量，一般2是高质量。
		
	ffmpeg -i input.mp4 -ss 00:00:20 -t 10 -r 1 -q:v 2 -f image2 pic-%03d.jpeg
		-ss 表示开始时间
		-t表示共要多少时间。
		ffmpeg会从input.mp4的第20s时间开始，往下10s，即20~30s这10秒钟之间，每隔1s就抓一帧，总共会抓10帧。
		
10.输出YUV420原始数据	
	ffmpeg -i input.mp4 output.yuv
	
	ffmpeg -i input.mp4 -ss 00:00:20 -t 10 -r 1 -q:v 2 -f image2 pic-%03d.jpeg
	ffmpeg -i pic-001.jpeg -s 1440x1440 -pix_fmt yuv420p xxx3.yuv
	
	
		
		
		
	